{"$id":"https://raw.githubusercontent.com/CordarionTheGrey/TgWWLang/v1.0.0/tgwwlang.schema.json","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"error":{"items":[{"$ref":"#/definitions/lineNumber"},{"description":"Description of the error.","type":"string"}],"minItems":2,"type":"array"},"fileId":{"description":"0 - Does not correspond to a particular file;\n1 - Model file (typically, English.xml);\n2 - Base file;\n3 - Target file.","enum":[0,1,2,3]},"lineNumber":{"description":"Line numbers are 1-based; 0 is used if the number is unknown.","minimum":0,"type":"integer"},"message":{"allOf":[{"items":[{"description":"Code uniquely identifies the message. New codes may be added in the future, and some codes may be removed, but they will never change their meaning.","minimum":0,"type":"integer"},{"$ref":"#/definitions/lineNumber"},{"description":"Details - additional pieces of information for the message.","items":{"type":"string"},"type":"array"}],"minItems":3,"type":"array"},{"if":{"items":[{"const":0}],"type":"array"},"then":{"description":"A string with key `details[0]` is missing.","items":[true,true,{"minItems":1,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":1}],"type":"array"},"then":{"description":"A string with unknown key, `details[0]`, is not present in the model langfile.","items":[true,true,{"minItems":1,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":2}],"type":"array"},"then":{"description":"A string with key `details[0]` lacks placeholder `details[1]`.","items":[true,true,{"minItems":2,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":3}],"type":"array"},"then":{"description":"A string with key `details[0]` has an extra placeholder, `details[1]`.","items":[true,true,{"minItems":2,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":4}],"type":"array"},"then":{"description":"Successfully added string with key `details[0]`.","items":[true,true,{"minItems":1,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":10}],"type":"array"},"then":{"description":"Model langfile is not found, thus only partial validation is being performed.","type":"array"}},{"if":{"items":[{"const":11}],"type":"array"},"then":{"description":"Model langfile does not have `isDefault=\"true\"` attribute in its `<language />`.","type":"array"}},{"if":{"items":[{"const":12}],"type":"array"},"then":{"description":"The langfile is closed. `details[0]` is its owner.","items":[true,true,{"minItems":1,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":13}],"type":"array"},"then":{"description":"A required attribute of `<language />`, `details[0]`, is empty.","items":[true,true,{"minItems":1,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":14}],"type":"array"},"then":{"description":"There are multiple strings with the same key, `details[0]`.","items":[true,true,{"minItems":1,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":15}],"type":"array"},"then":{"description":"A string with key `details[0]` has an empty `<value />`.","items":[true,true,{"minItems":1,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":16}],"type":"array"},"then":{"description":"A string with key `details[0]` has no `<value>`s at all.","items":[true,true,{"minItems":1,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":17}],"type":"array"},"then":{"description":"The langfile's name, which is `details[0]`, is the same as the name of its base or model.","items":[true,true,{"minItems":1,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":18}],"type":"array"},"then":{"description":"The langfile's base+variant pair, which is `details[0]` and `details[1]`, is the same as base+variant pair of its base or model.","items":[true,true,{"minItems":2,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":19}],"type":"array"},"then":{"description":"Placeholders are inconsistent across multiple `<value>`s of a string with key `details[0]`.","items":[true,true,{"minItems":1,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":20}],"type":"array"},"then":{"description":"A string with key `details[0]` has attribute `details[1]` set to `true`, however, in model langfile, it is set to `false`.","items":[true,true,{"minItems":2,"type":"array"}],"type":"array"}},{"if":{"items":[{"const":21}],"type":"array"},"then":{"description":"There is character data in an XML tag that should not contain any text.","type":"array"}}]}},"properties":{"annotations":{"items":{"properties":{"errors":{"items":{"$ref":"#/definitions/error"},"type":"array"},"file":{"$ref":"#/definitions/fileId"},"messages":{"items":{"$ref":"#/definitions/message"},"type":"array"}},"required":["file","errors","messages"],"type":"object"},"type":"array"},"success":{"type":"boolean"}},"required":["success","annotations"],"type":"object"}
